\chapter{Descripción del diseño de la base de datos}\label{chapter:database}
El desarrollo de la informática y la computación ha permitido
el almacenamiento de grandes cantidades de datos en espacios 
físicos limitados. Actualmente los sistemas de bases de datos juegan
un papel fundamental en el desarrollo de todo tipo de sistemas computacionales.

El diseño de base de datos es un proceso fundamental a la hora 
de modelar el conjunto de datos y las operaciones que se deseen
realizar sobre ellos. Un correcto diseño de la base de datos
es esencial para garantizar la consistencia de la información,
eliminar datos redundantes, ejecutar consultas de manera 
eficiente y mejorar el rendimiento de la base de datos [REF LIBRO]. 

\section{Metodología de diseño de bases de datos}
La complejidad de la información y la cantidad de requisitos que se 
deseen modelar en un sistema computacional hacen que el diseño de una 
base de datos no sea una tarea sencilla. Por tanto es común es común 
descomponer el proceso de diseño en tres etapas fundamentales: diseño conceptual,
diseño lógico y diseño físico. 


\subsection{Diseño conceptual}
En esta fase se obtiene como resultado una representación 
abstracta y de alto nivel de la realidad a partir de las 
especificaciones de requisitos de usuario [REF libro]. El diseño
conceptual comienza con la identificación de las necesidades de los 
usuarios, que a menudo se pueden obtener a través de: examinar
la documentación existente como formularios [REF COBOL], observando y
analizando el procesamiento de la información en el proceso que 
se desea modelar o mediante entrevistas a los usuarios finales.

El objetivo del diseño conceptual es describir el contenido de 
información de la base de datos, mediante un esquema conceptual de
la base de datos [REF LIBRO U OTRO] que es independiente del SGBD
que se utilice para manipular la base de datos.
Los programadores o diseñadores utilizan modelos conceptuales de datos 
para la construcción de esquemas. El modelo entidad-relación es uno 
de los más utilizados para el diseño conceptual de bases de datos. Fue 
introducido por Peter Chen en 1976 [REF], y está formado por 
un conjunto de conceptos que permiten describir la realidad mediante 
representaciones gráficas y lingüísticas.

La metodología utilizada 
para el desarrollo del modelo conceptual de datos para la modelación 
de los procesos de asignación de docencia y confección de tribunales de 
tesis fue la metodología genérica MER/XX [REF], que se basa en un enfoque
híbrido entre el modelo entidad/relacional extendido y los conceptos de la 
modelación orientada a objetos [REF LIBRO]. 

El modelo entidad-relación extendido describe con un alto nivel de abstracción
el significado de los datos, las relaciones entre ellos y las reglas de negocio 
de un sistema de información. Sus dos elementos principales son las entidades y 
las relaciones, además existen extensiones al modelo básico 
como atributos de las entidades o cardinalidades de las relaciones, 
que aportan al modelo una mayor expresividad.



\subsection{Diseño lógico}
Es el proceso de transformar el esquema conceptual del dominio de la aplicación
que se obtiene en la fase anterior,
en un esquema para el modelo de datos subyacente a un SGBD particular.
Existen diferentes modelos matemáticos utilizados para el diseño lógico
de las bases de datos, tales como: el modelo de listas invertidas[REF], el modelo 
jerárquico[REF], el modelo de redes[REF] y el modelo relacional[REF]. 

El modelo relacional fue propuesto por Edgar Frank Codd en 1970. Es un 
modelo que se basa en la lógica de predicados y en la teoría 
de conjuntos, donde todos los datos se representan en términos de tuplas, 
agrupados en relaciones.

El modelo relacional fue el primer modelo de base de datos que se describió en términos 
matemáticos formales. A pesar de que existen  
implementaciones del modelo de base de datos relacional como lo definió originalmente 
Codd, no han tenido éxito popular hasta el momento. No obstante al modelo relacional se le 
atribuye un gran valor por su desarrollo teórico, que ha sido fundamento de muchos de los 
sistemas de gestión de bases de datos relacionales que se utilizan hoy en la actualidad, como:
MySQL, Oracle, SQL Server, PostgreSQL y Microsoft Access. 

El resultado de esta fase consiste en una descripción de las estructuras 
de datos utilizadas para almacenar la base de datos[REF LIBRO], que se 
ajuste al modelo que utilice el SGBD. Esto quiere decir que,
si el modelo conceptual es expresado como un modelo 
entidad-relación y el modelo lógico utilizado en el SGBD es el modelo 
relacional, entonces las entidades, relaciones y los atributos del modelo entidad-relación
deben representarse como relaciones[REF]. 


% El objetivo del diseño de bases de datos lógicas es crear 
% tablas bien estructuradas que reflejen adecuadamente el 
% entorno empresarial de la empresa.

\subsection{Diseño físico}
En esta etapa se transforma la estructura obtenida en la etapa del diseño
lógico, con el objetivo de conseguir mayor eficiencia. Es necesario
evaluar los aspectos de implementación física relacionados al SGBD que se utilice.
Por ejemplo: si se trabaja con una base de datos relacional, la 
transformación de la estructura puede consistir en crear una nueva relación que 
sea la combinación de varias relaciones o separar una relación en varias relaciones o 
añadir algún atributo calculable a una relación. \\




% Para el almacenamiento de los datos hizo uso de SQLite 3
% como sistema de gestión de bases de datos relacionales,
% el cual viene integrada en Django por defecto.

\section{Correcto diseño de bases de datos relacionales}

El diseño de una base de datos mediante el enfoque relacional, es una 
tarea no determinista, es posible obtener distintos esquemas relacionales 
como propuestas de la base de datos.
Un diseño incorrecto de una base de datos puede no responder apropiadamente a las exigencias
del proceso que se modela, y puede conllevar a la generación de dificultades o 
errores en el acceso a los datos. Entre los principales errores o dificultades que se pueden generar
se encuentran:

\begin{itemize}
    \item \textbf{Redundancia en los datos}, provoca un aumento innecesario 
    del tamaño de la base de datos, disminuyendo la eficiencia, además puede provocar 
    inconsistencia de los datos que puede conducir a la corrupción de los mismos. 
    \item \textbf{Violación de la integridad de los datos}, el término ``integridad de los datos'' se 
    refiere a la correctitud y completitud de la información en una base de datos. Cuando los datos son 
    modificados con sentencias INSERT, DELETE o UPDATE la integridad de los datos puede comprometerse.
\end{itemize}

\cite{bib1}

Para lograr un correcto diseño de la base de datos se recomienda aplicar un método formal de 
análisis a cada uno de los esquemas obtenidos intuitivamente durante la fase de diseño conceptual, 
que se conoce como proceso de normalización.

\subsection{Normalización}
La normalización de una base de datos es un proceso que consiste 
en aplicar una serie de reglas a las relaciones obtenidas 
tras el paso del modelo entidad-relación (diseño conceptual) al modelo 
relacional (diseño lógico), con el objetivo de minimizar la redundancia de datos [REF WIKI].
Cada regla se denomina una ``forma normal'', si se cumple la primera regla, se dice que 
la base de datos está en ``primera forma normal'', si se cumplen las tres 
primeras reglas se dice que la base de datos está en ``tercera forma normal''. El proceso de 
normalización se puede caracterizar como la transformación sucesiva de una colección de 
relaciones hacia una forma más restrictiva, de modo que mientrás mas profundo sea el nivel 
de normalización menor será la redundancia que albergue la base de datos [REF LIBRO pag 129].
A continuación se introducen las definiciones de las reglas formales:

\begin{itemize}
    \item \textbf{Primera Forma Normal (1FN)}: una relación está en 1FN si y solo si, para 
    cada ocurrencia de la relación, toda tupla contiene exactamente un valor del dominio subyacente en
    cada atributo.
    \item \textbf{Segunda Forma Normal (2FN)}: una relación está en 2FN si, además de estar en 
    1FN, todos los atributos que no forman parte de alguna llave candidata constituyen información 
    acerca de la(s) llave(s) completa(s) y no de algún subconjunto de ella(s).
    \item \textbf{Tercera Forma Normal (3FN)}: una relación está en 3FN si, además de estar en 2FN,
    los atributos que no forman parte de alguna llave candidata constituyen información solo acerca
    de la(s) llave(s) y no acerca de otros atributos.
\end{itemize}


Aunque existen otros niveles de normalización como la ``Forma Normal de Boyce-Codd (BCFN)'',
la ``Cuarta Forma Normal(4FN)'' y la ``Quinta Forma Normal (5FN)'',
se considera que una base de datos en 3FN presenta niveles nulos o 
admisibles de redundancia en los datos[REF Microsoft].





Para la implementación del sistema de gestión es necesario el almacenamiento
y procesamiento de los datos que intervienen en los procesos de asignación de 
docencia y confección de tribunales de tesis. A continuación se brinda una 
descripción de cómo se modelaron estos procesos.

\section{Modelación de la asignación de docencia}
Para la modelación de este proceso se crearon las 
siguientes entidades:

Primeramente se modelaron las entidades básicas que intervienen 
en el proceso de la asignación de docencia. 




\subparagraph{Professor:}
Agrupa los datos asociados a los profesores, 
tales como: nombre, apellidos, categoría docente, grado 
científico y departamento al que pertenece.

\subparagraph{Subject:}
Agrupa los datos asociados a las asignaturas,
tales como: nombre, departamento responsable de impartir
la asignatura, plan de estudio, semestre en el que se 
imparte, cantidad de horas totales y carrera a la que 
pertenece.

\subparagraph{CarmenTable:}
Entidad creada con el fin de representar
el grupo escolar vigente en el año actual, cuenta con un
'TeachingGroup', semestre actual, período de tiempo y 
plan de estudio correspondiente. Por ejemplo representa 
que el grupo C3 (Computación tercer año) con el plan de 
estudio E, es el que esta vigente en el semestre actual.

\subparagraph{SubjectDescription:}
Entidad necesaria para separar las distintas actividades 
que se imparten en una asignatura ( conferencia, clases 
prácticas, seminarios, laboratorios, otras ) con el fin 
de poder realizar la asignación. Cuenta con una 'subject',
un tipo de actividad, y el CarmenTable correspondiente.


\subparagraph{TeachingAssignment:}
Entidad que modela la asignación de docencia, posee un
'Professor', una 'SubjectDescription' y
el porciento correspondiente a blah.

Los campos carrera, facultad, departamento, plan de 
estudio, grado científico, categoría docente, tipo de 
clase, semestre, período de tiempo y grupo escolar fueron
modelados como nomencladores en las entidades Career,
Faculty, Department, StudyPlan, ScientificDegree, 
TeachingCategory, ClassType, Semester, TimePeriod y 
TeachingGroup respectivamente.


\section{Modelación de los tribunales de tesis}
Para la modelación de este proceso se crearon las 
siguientes entidades:

\subparagraph{Thesis:}
Agrupa los datos asociados a una tesis, tales son:
título, estudiante, tutor, posibles cotutores y palabras
claves.

\subparagraph{ThesisCommittee:}
Entidad que representa un tribunal de tesis, cuenta con 
una 'Thesis', una fecha, un lugar y tres relaciones con 
la entidad 'Professor' para los roles de
secretario, presidente y oponente.

Los campos lugar y palabras claves fueron modelados como
nomencladores en las entidades 'Place' y 'Keyword'.